import { GoogleGenerativeAI } from "@google/generative-ai";
  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
 
    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, rating, Time travel each of the location for 3 days with each day plan with best time to visit in JSON format."},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"The D Las Vegas\",\n      \"hotelAddress\": \"301 Fremont Street, Las Vegas, NV 89101\",\n      \"price\": \"$50-$100 per night\",\n      \"hotelImageUrl\": \"https://www.theD.com/media/images/hero/hero_the_d_las_vegas_hero.jpg\",\n      \"geoCoordinates\": \"36.1699° N, 115.1423° W\",\n      \"rating\": 4.0,\n      \"description\": \"A budget-friendly hotel located in downtown Las Vegas, offering a vibrant casino, live entertainment, and a variety of dining options.\"\n    },\n    {\n      \"hotelName\": \"Golden Nugget Las Vegas\",\n      \"hotelAddress\": \"129 E Fremont St, Las Vegas, NV 89101\",\n      \"price\": \"$75-$150 per night\",\n      \"hotelImageUrl\": \"https://golden nugget.com/las-vegas/media/images/hero/hero_golden_nugget_las_vegas.jpg\",\n      \"geoCoordinates\": \"36.1694° N, 115.1415° W\",\n      \"rating\": 4.5,\n      \"description\": \"A historic and luxurious hotel on Fremont Street, featuring a world-class casino, multiple restaurants, a pool, and a shark tank.\"\n    },\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$40-$80 per night\",\n      \"hotelImageUrl\": \"https://www.circuscircus.com/media/images/hero/hero_circus_circus_hotel_casino.jpg\",\n      \"geoCoordinates\": \"36.1047° N, 115.1700° W\",\n      \"rating\": 3.5,\n      \"description\": \"A family-friendly hotel with a carnival theme, offering circus acts, a midway, and budget-friendly dining options.\"\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"bestTime\": \"Morning\",\n      \"plan\": [\n        {\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"A pedestrian-friendly street with a giant video canopy, street performers, and a lively atmosphere.\",\n          \"placeImageUrl\": \"https://www.fremontstreetexperience.com/media/images/hero/hero_fremont_street_experience.jpg\",\n          \"geoCoordinates\": \"36.1698° N, 115.1418° W\",\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5,\n          \"time\": \"2-3 hours\"\n        },\n        {\n          \"placeName\": \"Golden Nugget Casino\",\n          \"placeDetails\": \"A historic casino with a famous shark tank, slot machines, table games, and a lively atmosphere.\",\n          \"placeImageUrl\": \"https://golden nugget.com/las-vegas/media/images/hero/hero_golden_nugget_las_vegas.jpg\",\n          \"geoCoordinates\": \"36.1694° N, 115.1415° W\",\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.0,\n          \"time\": \"1-2 hours\"\n        },\n        {\n          \"placeName\": \"Heart Attack Grill\",\n          \"placeDetails\": \"A themed restaurant serving extreme burgers and fries. (Be warned: they're huge!)\",\n          \"placeImageUrl\": \"https://www.heartattackgrill.com/media/images/hero/hero_heart_attack_grill.jpg\",\n          \"geoCoordinates\": \"36.1697° N, 115.1405° W\",\n          \"ticketPricing\": \"Around $15-$25 per meal\",\n          \"rating\": 4.0,\n          \"time\": \"1-2 hours\"\n        }\n      ]\n    },\n    \"day2\": {\n      \"bestTime\": \"Afternoon\",\n      \"plan\": [\n        {\n          \"placeName\": \"The Strip\",\n          \"placeDetails\": \"The famous Las Vegas Boulevard, lined with casinos, hotels, shops, and restaurants.\",\n          \"placeImageUrl\": \"https://www.visitlasvegas.com/media/images/hero/hero_the_strip.jpg\",\n          \"geoCoordinates\": \"36.1146° N, 115.1729° W\",\n          \"ticketPricing\": \"Free\",\n          \"rating\": 5.0,\n          \"time\": \"4-5 hours\"\n        },\n        {\n          \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n          \"placeDetails\": \"A stunning indoor garden with beautiful floral displays, changing seasonally.\",\n          \"placeImageUrl\": \"https://www.bellagio.com/media/images/hero/hero_bellagio_conservatory_botanical_garden.jpg\",\n          \"geoCoordinates\": \"36.1180° N, 115.1733° W\",\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5,\n          \"time\": \"1-2 hours\"\n        },\n        {\n          \"placeName\": \"The LINQ Promenade\",\n          \"placeDetails\": \"An outdoor shopping and dining destination with the High Roller observation wheel.\",\n          \"placeImageUrl\": \"https://www.thelinq.com/media/images/hero/hero_the_linq_promenade.jpg\",\n          \"geoCoordinates\": \"36.1094° N, 115.1722° W\",\n          \"ticketPricing\": \"Around $30 per person for the High Roller\",\n          \"rating\": 4.0,\n          \"time\": \"2-3 hours\"\n        }\n      ]\n    },\n    \"day3\": {\n      \"bestTime\": \"Evening\",\n      \"plan\": [\n        {\n          \"placeName\": \"The Venetian and The Palazzo\",\n          \"placeDetails\": \"Luxury hotels with a Venetian theme, featuring canals, gondolas, and upscale shopping.\",\n          \"placeImageUrl\": \"https://www.venetian.com/media/images/hero/hero_the_venetian_and_the_palazzo.jpg\",\n          \"geoCoordinates\": \"36.1162° N, 115.1740° W\",\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5,\n          \"time\": \"2-3 hours\"\n        },\n        {\n          \"placeName\": \"Caesars Palace\",\n          \"placeDetails\": \"A Roman-themed casino and entertainment complex with a variety of dining options and shows.\",\n          \"placeImageUrl\": \"https://www.caesars.com/media/images/hero/hero_caesars_palace.jpg\",\n          \"geoCoordinates\": \"36.1169° N, 115.1717° W\",\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.0,\n          \"time\": \"2-3 hours\"\n        },\n        {\n          \"placeName\": \"Free Show on The Strip\",\n          \"placeDetails\": \"Many hotels on The Strip offer free shows, such as the Bellagio Fountains, the Wynn's Lake of Dreams, or the Mirage Volcano.\",\n          \"placeImageUrl\": \"https://www.bellagio.com/media/images/hero/hero_bellagio_fountains.jpg\",\n          \"geoCoordinates\": \"36.1180° N, 115.1733° W\",\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5,\n          \"time\": \"1-2 hours\"\n        }\n      ]\n    }\n  }\n}\n```\n\n**Explanation:**\n\nThis JSON data provides a detailed travel plan for a couple visiting Las Vegas on a cheap budget for three days. \n\n* **hotelOptions:** This section lists three budget-friendly hotel options in Las Vegas, including their names, addresses, approximate prices, images, geo coordinates, ratings, and descriptions.\n* **itinerary:** This section outlines the daily itinerary, including the best time to visit each day and a list of places to visit.\n* **Day Plan:** Each day's plan includes:\n    * **placeName:** The name of the place to visit\n    * **placeDetails:** A brief description of the place\n    * **placeImageUrl:** A URL for an image of the place\n    * **geoCoordinates:** The geographic coordinates of the place\n    * **ticketPricing:** The approximate cost of tickets, if any\n    * **rating:** An approximate rating based on popular reviews\n    * **time:** The estimated time to spend at each place\n\nThis itinerary prioritizes free or low-cost attractions, focusing on experiencing the vibrant atmosphere of Las Vegas without breaking the bank. The plan is flexible and can be customized based on the couple's interests. Remember to factor in travel time between locations and consider using public transportation or walking where possible. \n"},
          ],
        },
      ],
    });
  